@using Model;
@model Model.PageInfo<tb_FileInfo>
@Styles.Render("~/Content/style/FileRecover.css")
<div id="filerecover">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => Model.pageList[0].FileName)
            </th>
            <th>
                @Html.DisplayNameFor(model => Model.pageList[0].CoodinateSystem)
            </th>
            <th>
                @Html.DisplayNameFor(model => Model.pageList[0].FinishtimeInfo)
            </th>
            <th>
                @Html.DisplayNameFor(model => Model.pageList[0].FinishPersonInfo)
            </th>
            <th>
                @Html.DisplayNameFor(model => Model.pageList[0].SurveyingUnitName)
            </th>
            <th>
                操作
            </th>
        </tr>

        @foreach (var item in Model.pageList)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FileName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CoodinateSystem)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FinishtimeInfo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FinishPersonInfo)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.SurveyingUnitName)
                </td>
                <td>
                    <a onclick="recoverFile(@item.ID)">
                        恢复数据
                    </a>
                    <a onclick="deleteFile(@item.ID)">
                        彻底删除
                    </a>
                </td>
            </tr>
        }

    </table>
    <p>共 @Model.totalPage 页 每页 @Model.pageSize 条 第 @Model.pageIndex 页</p>
    <div id="footer_right">
        <input id="footer-right-btn1" onclick="refresh(1)" class="button" type="button" value="首页" />
        <input id="footer-right-btn2" onclick="refresh(@(Model.pageIndex - 1))" class="button" type="button" value="上一页" />
        <input id="footer-right-btn4" onclick="refresh(@(Model.pageIndex + 1))" class="button" type="button" value="下一页" />
        <input id="footer-right-btn5" onclick="refresh(@Model.totalPage)" class="button" type="button" value="尾页" />
    </div>
</div>
<script>
        $(document).ready(function () {
        if (@Model.pageIndex <= 1) {
            $("#footer-right-btn2").attr("disabled", "true");
            $("#footer-right-btn2").css("background-color", "#5090C7");
            $("#footer-right-btn1").attr("disabled", "true");
            $("#footer-right-btn1").css("background-color", "#5090C7");
        }
        else if (@Model.pageIndex == @Model.totalPage)
        {
            $("#footer-right-btn4").attr("disabled", "true");
            $("#footer-right-btn4").css("background-color", "#5090C7");
            $("#footer-right-btn5").attr("disabled", "true");
            $("#footer-right-btn5").css("background-color", "#5090C7");
        }
        else {
            $("#footer-right-btn2").removeAttr("disabled");
            $("#footer-right-btn4").removeAttr("disabled");
            $("#footer-right-btn1").removeAttr("disabled");
            $("#footer-right-btn5").removeAttr("disabled");
            $("#footer-right-btn2").css("background-color", "#0972A7");
            $("#footer-right-btn4").css("background-color", "#0972A7");
            $("#footer-right-btn1").css("background-color", "#0972A7");
            $("#footer-right-btn5").css("background-color", "#0972A7");
        }
        if (@Model.totalPage <= 1) {
            $("#footer-right-btn4").attr("disabled", "true");
            $("#footer-right-btn4").css("background-color", "#5090C7");
            $("#footer-right-btn5").attr("disabled", "true");
            $("#footer-right-btn5").css("background-color", "#5090C7");
        }
    });
</script>